<script setup>
import { ref } from 'vue'
import { useAuthStore } from '@/stores/authStore.js'
import router from '@/router/index.js'

const auth = useAuthStore()

const handleLogout = async () => {
  await auth.logout()
  await router.push('/login')
}
</script>
<template>
  <aside class="m-2 mb-1 bg-gray-800 text-white p-6 shadow-xl flex flex-col rounded-lg">

    <nav class="space-y-4 flex-1">
      <router-link to="/todos" class="block hover:underline">ğŸ“‹ Zadania</router-link>
      <router-link to="/konto" class="block hover:underline">ğŸ‘¤ Konto</router-link>
    </nav>
    <button @click="handleLogout" :disabled="auth.isLoading" class="hover:text-gray-500  disabled:opacity-50">ğŸšª Wyloguj</button>
  </aside>
</template>
